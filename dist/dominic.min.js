<<<<<<< HEAD
!function(e,r){"object"==typeof exports&&"undefined"!=typeof module?module.exports=r():"function"==typeof define&&define.amd?define("Dominic",r):e.Dominic=r()}(this,function(){"use strict";function e(e){var r="undefined"==typeof e?"undefined":he(e);return"string"===r||"number"===r}function r(e){return"function"==typeof e}function t(e,r){if(!de(e))return!1;for(var t=e.length,n=0;t>n;n++)if(he(e[n])!==r)return!1;return!0}function n(e){return e instanceof Node}function o(e){e=e||[];var r=arguments.length;if(2>r)return e;for(var t=e.length,n=1;r>n;n++)for(var o=arguments[n],i=0;i<o.length;i++)e[t++]=o[i];return e}function i(e,r,t){for(var n in e)le(e,n)&&r.call(t,e[n],n)}function a(e,r,t){if(!e||!e.length)return!1;for(var n=e.length,o=0;n>o;o++)if(r.call(t,e[o],o,e))return!0;return!1}function f(e){return e?e[e.length-1]:null}function u(e,r,t){for(var n=null,o=e.childNodes,i=o.length,a=0;i>a;a++){var f=o[a];if(n=!hasOwnProperty.call(f,r)||"undefined"!=typeof t&&f[r]!==t?u(f,r,t):f)return n}return n}function l(e,r,t){for(var n=e.childNodes,o=n.length,i=0;o>i;i++){var a=n[i];if(le(a,r)&&("undefined"==typeof t||a[r]===t))return a}return null}function s(e,r,t){for(var n=e.childNodes,o=n.length,i=o-1;i>-1;i++){var a=n[i];if(le(a,r)&&("undefined"==typeof t||a[r]===t))return a}return null}function c(e,r,t,n){for(var o=e.childNodes,i=o.length,a=-1,f=0;i>f;f++){var u=o[f];if(-1===a&&(!le(u,t)||"undefined"!=typeof n&&u[t]!==n||-1===a&&(a=f)),-1!==a&&f-a===r)return u}return null}function v(e,r,t){for(var n=[],o=e.childNodes,i=o.length,a=0,f=0;i>f;f++){var u=o[f];!le(u,r)||"undefined"!=typeof t&&u[r]!==t||(n[a++]=u)}return n}function p(e,r,t){for(var n=[],i=e.childNodes,a=i.length,f=0;a>f;f++){var u=i[f];!le(u,r)||"undefined"!=typeof t&&u[r]!==t||(n[n.length]=u),o(n,p(u,r,t))}return n}function h(e,r){if(r)for(var t=Object.keys(r),n=t.length,i=[],a=e.childNodes,f=a.length,u=0,l=0;f>l;l++){for(var s=a[l],c=0;n>c;c++){var v=t[c];if(le(s,v)&&("undefined"==typeof value||s[v]===value)){i[u++]=s;break}}o(i,h(s,r))}}function d(e){return!!("function"==typeof e?e():e)}function y(e){return e.replace(ye,"-$1").toLowerCase()}function g(e){var r=e.id?"#"+e.id:"",t=e.classList.toString(),n=t?t.split(" "):ge,o=e.localName+r+(n.length?"."+n.join("."):"");return o}function m(e,r){return _e.call(e,r)}function _(e,r,t){for(;r&&r!==e;){if(m(r,t))return r;r=r.parentNode}return null}function b(){}function w(e,r){function t(e){if("string"==typeof f){if(o===e.target)return;var t=_(o,e.target,f);if(!t)return;"function"==typeof i&&i.call(r,e,t,f)}else"function"==typeof i&&i.call(r,e)}var n=e.type,o=e.el,i=e.callback,a=e.capture,f=e.delegate;return t.destroy=function(){return o.removeEventListener(n,t,a)},o.addEventListener(n,t,a),t}function E(e,r){function t(e){if("string"==typeof f){if(o===e.target)return;var t=_(o,e.target,f);if(!t)return;if(u&&-1===u.indexOf(e.keyCode))return;"function"==typeof i&&i.call(r,e,t,f)}else{if(u&&-1===u.indexOf(e.keyCode))return;"function"==typeof i&&i.call(r,e)}}var n=e.type,o=e.el,i=e.callback,a=e.capture,f=e.delegate,u=e.keys;return t.destroy=function(){return o.removeEventListener(n,t,a)},o.addEventListener(n,t,a),t}function N(e,r,n){var o=r.type;if(!o)throw new Error("No event type specified");var i,a=r.handler,f="undefined"==typeof a?"undefined":he(a);n=n||e;var u="root"===r.scope?n:le(r,"scope")?r.scope:e;if("function"===f?i=a:"string"===f&&(i=u[a]),"function"!=typeof i)throw new Error('Cannot find handler: "'+a+'" on element: ['+g(u)+"].");var l,s=!!r.capture,c=r.delegate,v=-1!==be.indexOf(o),p=-1!==we.indexOf(o);if(v){var h=null;le(r,"key")&&("number"==typeof r.key?h=[r.key]:t(r.key,"number")&&(h=r.key)),l=E({type:o,el:e,callback:i,capture:s,delegate:c,keys:h},u)}else p&&c&&(s=!0),l=w({type:o,el:e,callback:i,capture:s,delegate:c},u);le(e,"evts")||(e.evts=new b),e.evts.push(l),e.hse=!0}function k(e){e=e||{};for(var r=1;r<arguments.length;r++){var t=arguments[r];if(t)for(var n in t)le(t,n)&&(e[n]=t[n])}return e}function x(e){e=e||{};var r=arguments.length;if(3>r)return e;var t=arguments[r-1];if("string"!=typeof t)return e;var n=t.split(",");if(!n.length)return e;for(var o=1;r-1>o;o++){var i=arguments[o];if(i)for(var a in i)if(le(i,a)){if(-1===n.indexOf(a))continue;var f=i[a];e[a]=f}}return e}function O(e){e=e||{};for(var r=1;r<arguments.length;r++){var t=arguments[r];if(t)for(var n in t)if(le(t,n)){var o=t[n];if(Array.isArray(e))for(var i=0;i<e.length;i++){var a=e[i];le(a,n)||(a[n]=o)}else le(e,n)||(e[n]=o)}}return e}function K(e){e.evts.removeAll(),delete e.evts}function S(e){le(e,"evts")&&K(e);var r=p(e,"hse",!0);r.forEach(K)}function j(e){var r=le(e,"refScope")&&"parent"===e.refScope?e.parentNode:e.root;r.refs.removeRef(e.ref)}function A(e,r){le(e,"refs")&&(e.refs.removeAll(),delete e.refs),le(e,"ref")&&j(e,r);var t=p(e,"hsr",!0);t.forEach(j)}function C(e,r){e.forEach(function(e,r){e.nodeType===Node.ELEMENT_NODE&&(A(e),S(e)),e.parentNode.removeChild(e)})}function L(e){return this.__data[e]}function M(e,r){var t=this.__tpl[e],n=this.__owner;this.__data[e]=r;for(var o=0,i=t.length;i>o;o++){var a,u=t[o],l=u.parent,s=u.groupKey,c=v(l,"groupKey",s),n=this.__owner;u["for"]=r,c.length&&(a=f(c).nextSibling),C(c),Q(l,u,s,n,a)}}function P(e,r,t,n){return le(n,"observe")||(n.observe=new ke(n)),n.observe.add(e,r,t,n),n.observe}function q(){}function D(r,t,n){var o=t.ref;if(e(o)){var i=t.refScope,a="parent"===i?r:n;le(a,"refs")||(a.refs=new q),a.refs[o]=t,t.hsr=!0}}function T(e,r,t){t?e.insertBefore(r,t):e.appendChild(r)}function V(e){var r=e.setups;return r?r.__configs.defaults:null}function B(e){var r=e.setups;return r?le(r,"items")?r.items:le(r,"children")?r.children:null:null}function R(e,r){var t=e.setups,n=t.__configs,o=t.__events,i=o.length,a=e.style;for(var f in r)if(le(r,f)){var u=r[f],l=We.indexOf(f);if(-1==l)e[f]=u;else if(Ze>l)a[f]=isNaN(u)?u:u+"px";else if($e>l)a[f]=u;else if(Ge>l)le(n,"defaults")||ie(n,"defaults",{value:pe()}),k(n.defaults,u);else if(Je>l)t[f]=u;else if(Qe>l)t.children=u;else if(Ue>l)u.forEach(function(e){o[i++]=e});else if(Xe>l)o[i++]=k({type:f},u);else if(Ye>l)t[f]=u;else if(rr>l){if(!u)continue;le(t,"cls")||(t.cls=""),t.cls+=u+" "}else tr>l?e.appendChild(document.createTextNode(u)):ie(t,"parent",{value:u})}}function z(e){var r=e.setups;r&&le(r,"attrs")&&i(r.attrs,function(r,t){e.setAttribute(y(t),r)})}function F(e){var r=e.setups;if(r&&le(r,"style")){var t=e.style,n=r.style;for(var o in n)if(le(n,o)){var i=n[o];-1!==xe.indexOf(o)?t[o]=isNaN(i)?i:i+"px":t[o]=i}}}function H(e,r){var t=e.setups;if(t&&le(t,"__events"))for(var n=0,o=t.__events,i=o.length;i>n;n++){var a=o[n];N(e,a,r)}}function I(e){var r=e.setups;r&&le(r,"cls")&&r.cls&&(e.className=r.cls.trim())}function W(e){var r=e.setups;r&&le(r,"created")&&r.created.call(e)}function Z(e){if(le(e,"if")&&!d(e["if"]))return null;var r=le(e,"tag")?e.tag:"div",t=document.createElement(r);return ee(t),R(t,e),t}function $(e,r,t){var n=V(e),o=O(r,n),i=Z(o);return i?(z(i),F(i),H(i,t),I(i),i):null}function G(e,r,t,n){if(null!==r&&"undefined"!=typeof r&&(D(e,r,t),T(e,r,n),!le(r,"d__isCmp"))){var o=B(r);X(r,o,t),W(r)}}function J(r,t,o,i){var a=null;return de(t)||"function"==typeof t?null:(ce(t)?a=le(t,"ctype")?te(t):$(r,t,o):e(t)?a=document.createTextNode(t):n(t)&&(a=t),i&&a&&(a.groupKey=i),a)}function Q(e,r,t,n,o){var i=r["for"];if(i){var a,f,u,l=le(r,"root")?i[r.root]:i,s=r.tplFn;if(l&&"function"==typeof s){var c=n;if(le(r,"scope")){var v=opts.scope;c="root"===v?n:"parent"===v?parent:v}if(de(l))l.forEach(function(r,i){f=s.call(c,r,i),u=J(e,f,n,t),u&&G(e,u,n,o)});else if(ce(l)&&r.alwaysIterate){var p=ae(l);a=p.forEach(function(r,i){return f=s.call(c,l[r],r),u=J(e,f,n,t),u&&G(e,u,n,o),u})}else f=s.call(c,l),de(f)||(f=[f]),a=f.forEach(function(r,i){return u=J(e,r,n,t),u&&G(e,u,n,o),u})}}}function U(r,t,n){var o;if(le(t,"observeProp")){var i=t.observeProp,o=nr++;if(i&&e(i)&&"__owner"!==i){P(r,t,o,n)}}Q(r,t,o,n)}function X(e,r,t){if(r){var o;if(ce(r))return le(r,"ctype")?(o=te(r),void G(e,o,t)):void(le(r,"for")?U(e,r,t):(o=$(e,r,t),G(e,o,t)));if(de(r))return void r.forEach(function(r){X(e,r,t)});if("function"==typeof r){var i=r();return void X(e,i,t)}n(r)?G(e,r,t):G(e,document.createTextNode(r),t)}}function Y(e){var r=e.setups;if(r){var t=B(e);X(e,t,e)}}function ee(e){var r=pe();oe(r,{__configs:{value:pe()},__events:{value:[]}}),e.setups=r}function re(e){var r=le(e,"tag")?e.tag:"div",t=document.createElement(r);ie(t,"d__isCmp",{value:!0}),ee(t),R(t,e),z(t),F(t),H(t,t),I(t),Y(t);var n=t.setups;return le(n,"created")&&n.created.call(t),le(n,"parent")&&(n.parent.appendChild(t),le(n,"appended")&&n.appended.call(t)),t}function te(e){var r=e.ctype,t=Ne.get(r).create(e),n=re(t);return n}function ne(e){return le(e,"ctype")?te(e):re(e)}var oe=Object.defineProperties,ie=Object.defineProperty,ae=Object.keys,fe=Object.prototype,ue=fe.hasOwnProperty,le=function(e,r){return ue.call(e,r)},se=Object.prototype.toString,ce=function(e){return"[object Object]"===se.call(e)},ve=Object.create,pe=function(e){var r=ve(null);for(var t in e)le(e,t)&&(r[t]=e[t]);return r},he="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},de=Array.isArray,ye=/([A-Z])/g,ge=[],me=Element.prototype,_e=me.matches||me.matchesSelector||me.msMatchesSelector||me.webkitMatchesSelector||me.mozMatchesSelector||me.oMatchesSelector,be=["keydown","keypress","keyup","input"],we=["blur","focus"];b.__proto__=Array.prototype,b.prototype=Object.create(Array.prototype),oe(b.prototype,{removeAll:{value:function(){for(var e=0;e<this.length;e++)this[e].destroy();this.length=0}}});var Ee=pe(),Ne=pe();oe(Ne,{register:{value:function(e,t){if(le(Ee,e))throw Error("Name already registered");if(!r(t))throw Error("Not valid definitions");return ie(Ee,e,{value:pe({create:t})}),this}},get:{value:function(e){if(!Ee[e])throw Error("No component registered");return Ee[e]}}});var ke=function(e){if(!e)throw new Error("No root provided");oe(this,{__owner:{value:e},__data:{value:pe()},__tpl:{value:pe()}})};oe(ke.prototype,{add:{value:function(e,r,t,n){var o=r.observeProp,r=x(pe({parent:e,groupKey:t}),r,"tplFn,scope,for,root,observeProp,alwaysIterate"),i=r["for"],a=le(this,o);a?this.__tpl[o].push(r):(this.__data[o]=i,this.__tpl[o]=[r],ie(this,o,{get:L.bind(this,o),set:M.bind(this,o)}))}},insert:{value:function(e,r,t){e=""+e;var n=this[e];if(!n||!de(n))throw new Error("Value for property ["+e+"] is not an array.");if(isNaN(r))return void(arguments.length>1&&this.push.apply(this,arguments));var o,i=n.length,a=r;if(!(r>i||0>r)){if(de(t)){o=t;for(var f=0;f<t.length;f++)n.splice(a++,0,t[f])}else o=[t],n.splice(a,0,t);for(var u=this.__tpl[e],f=0,l=u.length;l>f;f++){var s=u[f],v=s.parent,p=s.groupKey,h=c(v,r,"groupKey",p),d=this.__owner;h&&(s["for"]=o,Q(v,s,p,d,h))}}}},remove:{value:function(e,r){e=""+e;var t=this[e];if(!t||!de(t))throw new Error("Value for property ["+e+"] is not an array.");var n=t.length;if(de(r)||(r=[r]),!a(r,isNaN)){var o=this.__tpl[e];r.sort();for(var i=0,f=o.length;f>i;i++)for(var u=o[i],l=u.parent,s=u.groupKey,v=0,p=0,h=r.length;h>p;p++){var d=r[i];if(!(d>n||0>r)){var y=c(l,d,"groupKey",s);y&&(l.removeChild(y),t.splice(d-v++,1))}}}}},push:{value:function(e,r){e=""+e;var t=this[e];if(!t||!de(t))throw new Error("Value for property ["+e+"] is not an array.");var n,o=t.length;if(de(r)){n=r;for(var i=0;i<r.length;i++)t[o++]=r[i]}else n=[r],t[o++]=r;for(var a=this.__tpl[e],i=0,u=a.length;u>i;i++){var l,s=a[i],c=s.parent,p=s.groupKey,h=f(v(c,"groupKey",p)),d=this.__owner;h&&(l=h.nextSibling),s["for"]=n,Q(c,s,p,d,l)}return t.length}},pop:{value:function(e){e=""+e;var r=this[e];if(!r||!de(r))throw new Error("Value for property ["+e+"] is not an array.");for(var t=this.__tpl[e],n=[],o=0,i=0,a=t.length;a>i;i++){var f=t[i],u=f.parent,l=f.groupKey,c=s(u,"groupKey",l);c&&(n[o++]=c)}C(n),r.pop()}},shift:{value:function(e){e=""+e;var r=this[e];if(!r||!de(r))throw new Error("Value for property ["+e+"] is not an array.");for(var t=this.__tpl[e],n=[],o=0,i=0,a=t.length;a>i;i++){var f=t[i],u=f.parent,s=f.groupKey,c=l(u,"groupKey",s);c&&(n[o++]=c)}C(n),r.shift()}},unshift:{value:function(e,r){e=""+e;var t=this[e];if(!t||!de(t))throw new Error("Value for property ["+e+"] is not an array.");var n;t.length;if(de(r)){n=r;for(var o=0;o<r.length;o++)t.unshift(r[o])}else n=[r],t.unshift(r);for(var i=this.__tpl[e],o=0,a=i.length;a>o;o++){var u=i[o],s=u.parent,c=u.groupKey,p=(f(v(s,"groupKey",c)),l(s,"groupKey",c)),h=this.__owner;u["for"]=n,Q(s,u,c,h,p)}return t.length}}}),oe(q.prototype,{remove:{value:function(e){if("function"!=typeof e)return!1;for(var r=Object.keys(this),t=0,n=0;n<r.length;n++){var o=r[n];e.call(null,this[o],o)&&(t+=delete this[o]?1:0)}return t==r.length}},removeRef:{value:function(t){if(e(t)){if(t=""+t,le(this,t))return delete this[t]}else if(r(t)){for(var n=Object.keys(this),o=0,i=0;i<n.length;i++){var a=n[i];expression.call(null,this[a],a)&&(o+=delete this[a]?1:0)}return o==n.length}return!1}},removeAll:{value:function(){for(var e=Object.keys(this),r=0;r<e.length;r++)delete this[e[r]];return r===e.length}}});var xe=["width","height","maxWidth","minWidth","maxHeight","minHeight"];!["","Top","Right","Bottom","Left"].forEach(function(e){xe.push("padding"+e),xe.push("margin"+e)});var Oe=xe,Ke=["color","backgroundColor","background","display","position","border","transform","opacity","fontSize"],Se=["defaults"],je=["style","attrs"],Ae=["children","items"],Ce=["events"],Le=(Oe.concat(Ke),["click","mousedown","mouseup","mouseover","mouseout","mouseenter","mouseleave","mousemove"]),Me=["dragstart","dragend","drag","dragover","dragenter","dragleave","drop"],Pe=["blur","focus"],qe=["keydown","keypress","keyup"],De=["change","input","submit"],Te=["touchstart","touchmove","touchend"],Ve=["wheel","scroll"],Be=Le.concat(Me,Pe,qe,De,Te,Ve),Re=["created","appended"],ze=["className","cls"],Fe=["xtraCls","xCls"],He=(Fe.concat(ze),["text","textContent"]),Ie=["parent"],We=Oe.concat(Ke,Se,je,Ae,Ce,Be,Re,ze,Fe,He,Ie),Ze=Oe.length,$e=Ze+Ke.length,Ge=$e+Se.length,Je=Ge+je.length,Qe=Je+Ae.length,Ue=Qe+Ce.length,Xe=Ue+Be.length,Ye=Xe+Re.length,er=Ye+ze.length,rr=er+Fe.length,tr=rr+He.length,nr=Math.floor(1e5*Math.random()),or=pe();return oe(or,{create:{value:ne},query:{value:u},queryDirect:{value:l},queryLastDirect:{value:s},queryAll:{value:p},queryAllDirect:{value:v},queryAllByMultipleKeys:{value:h},attachEvent:{value:N},register:{value:function(e,r){return Ne.register(e,r),this}}}),or});
=======
!function(e,t){"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?module.exports=t():e.Dominic=t()}(this,function(){function e(e){return"[object Object]"===H.call(e)}function t(e){if(e=e||[],arguments.length<2)return e;for(var t=e.length,r=1;r<arguments.length;r++)for(var n=arguments[r],o=0;o<n.length;o++)e[t++]=n[o];return e}function r(e,t,r){if(e)for(var n=0;n<e.length;n++)t.call(r,e[n],n)}function n(e){e=e||{};for(var t=1;t<arguments.length;t++){var r=arguments[t];if(r)for(var n=Object.keys(r),o=0;o<n.length;o++)e[n[o]]=r[n[o]]}return e}function o(e){if(e=e||{},arguments.length<2)return e;var t=arguments[arguments.length-1];if("string"!=typeof t)return e;var r=t.split(",");if(!r.length)return e;for(var n=1;n<arguments.length-1;n++){var o=arguments[n];if(o)for(var a=Object.keys(arguments[n]),l=0;l<a.length;l++){var i=a[l];if(-1!==r.indexOf(i)){var f=o[i];e[i]=f}}}return e}function a(e){e=e||{};for(var t=1;t<arguments.length;t++){var r=arguments[t];if(r)for(var n=Object.keys(arguments[t]),o=0;o<n.length;o++){var a=n[o];if(Array.isArray(e))for(var l=0;l<e.length;l++)e[l].hasOwnProperty(a)||(e[l][a]=r[a]);else e.hasOwnProperty(a)||(e[a]=r[a])}}return e}function l(e){var t=e.id?"#"+e.id:"",r=e.classList.toString(),n=r?r.split(" "):D,o=e.localName+t+(n.length?"."+n.join("."):"");return o}function i(e,t,r){for(var n=null,o=e.childNodes,a=o.length,l=0;a>l;l++){var f=o[l];if(n=!Z.call(f,t)||"undefined"!=typeof r&&f[t]!==r?i(f,t,r):f)return n}return n}function f(e,t,r){for(var n=e.childNodes,o=n.length,a=0;o>a;a++){var l=n[a];if(Z.call(l,t)&&("undefined"==typeof r||l[t]===r))return l}return null}function u(e,t,r){for(var n=[],o=e.childNodes,a=o.length,l=0;a>l;l++){var i=o[l];Z.call(i,t)&&i[t]===r&&(n[n.length]=i)}return n}function c(e,r,n){for(var o=[],a=e.childNodes,l=a.length,i=0;l>i;i++){var f=a[i];Z.call(f,r)&&f[r]===n&&(o[o.length]=f),t(o,c(f,r,n))}return o}function s(e,t,r){for(;t&&t!==e;){if($.call(t,r))return t;t=t.parentNode}return null}function v(e,t,r){t=t||{};var n=t.el||q.documentElement,o=t.callback,a=t.capture||!1,l=t.delegate,i=function(e){var t=e.currentTarget;if("string"==typeof l){if(t===e.target)return;var n=s(t,e.target,l);if(!n)return;"function"==typeof o&&o.call(r,e,n,l)}else"function"==typeof o&&o.call(r,e)};return i.destroy=function(){return this.el=null,n.removeEventListener(e,i,a)},i.el=n,i.type=e,i.capture=a,n.addEventListener(e,i,a),i}function p(e,t,r){t=t||{};var n,o=t.el||q.documentElement,a=t.callback,l=t.capture,i=t.delegate;Z.call(t,"key")&&("number"==typeof t.key?n=[t.key]:I(t.key,"number")&&(n=t.key));var f=function(e){var t=e.currentTarget;if("string"==typeof i){if(t===e.target)return;var o=s(t,e.target,i);if(!o)return;if(n&&-1===n.indexOf(e.keyCode))return;"function"==typeof a&&a.call(r,e,o,i)}else{if(n&&-1===n.indexOf(e.keyCode))return;"function"==typeof a&&a.call(r,e)}};return f.destroy=function(){return this.el=null,o.removeEventListener(e,f,l)},f.el=o,f.type=e,f.capture=l,o.addEventListener(e,f,l),f}function h(e,t,r){var n=t.ref;if(F(n)){var o=t.refScope,a="parent"===o?e:r;a.refs=a.refs||new Q,a.refs[n]=t,t.__hr=!0}}function d(e,t,r){var n=t["for"];if(!n)return null;var o,a=t.root||"",l=a?n[a]:n,i=t.tplFn;if(l&&"function"==typeof i){var f=t.scope,u="root"===f?r:"parent"===f?e:f;if(Array.isArray(l))o=l.map(i,u);else if(z(l)&&t.alwaysIterate){var c=Object.keys(l);o=c.map(function(e){return i.call(u,l[e],e)})}else o=i.call(u,l)}return o}function y(e,t,r,n){return r.observe=r.observe||new U(r),r.observe.add(e,t,n),r.observe}function g(e,t,r,n,o){var a=t.fn;if("function"==typeof a){var l=t.scope,i="root"===l?r:"parent"===l?e:l,f=a.call(i);A(e,f,r,n,o)}}function m(e,t,r,n,o){if(Z.call(t,"observeProp")){var a=t.observeProp;if(F(a)){var l=y(e,t,r,n);l[a]=t["for"]}}else{var i=d(e,t,r);W(i)&&k(i,n),A(e,i,r,n,o)}}function b(e,t){for(var r=Object.keys(t),n=e.style,o=0;o<r.length;o++){var a=r[o];if(""===n[a]){var l=t[a];-1!==X.indexOf(a)?n[a]=isNaN(l)?l:l+"px":n[a]=l}}}function _(e,t){for(var r=Object.keys(t),n=0;n<r.length;n++){var o=r[n],a=V(o);if(!e.hasAttribute(a)){var l=t[o];e.setAttribute(a,l)}}}function k(e,t){for(var r in t)if(t.hasOwnProperty(r)){var n=t[r];"style"===r?b(e,n):"attrs"===r?_(e,n):e[r]=n}}function O(e,t,r,n,o){for(var l=0;l<t.length;l++){var i=t[l];W(i)?(k(i,n),A(e,i,r,n,o)):(n&&!F(i)&&a(i,n),A(e,i,r,n,o))}}function w(e,t,r,n,o){var l=""+(t.tag||"div");delete t.tag,n&&a(t,n);var i=Ne(l,t,r);A(e,i,r,n,o)}function E(e,t){return e?Z.call(e,"__key")&&e.__key===t?E(e.nextSibling,t):e:null}function j(e,t,r){var n=r.startEl.nextSibling;if(n){var o=t.__key,a=E(n,o);a?e.insertBefore(t,a):e.appendChild(t)}else e.appendChild(t)}function A(e,t,r,n,o){"use strict";if(t){if(F(t)){var l=q.createTextNode(t);return k(l,n),void(o&&o.startEl?(j(e,l,o),o.startEl=l):e.appendChild(l))}if(W(t))o&&o.startEl?(j(e,t,o),o.startEl=t):e.appendChild(t),h(e,t,r);else if("function"==typeof t){var i=t();n&&a(i,n),A(e,i,r,n,o)}else Array.isArray(t)?O.apply(null,arguments):Z.call(t,"for")?m.apply(null,arguments):Z.call(t,"fn")?g.apply(null,arguments):w.apply(null,arguments)}}function N(e,t,r){var n=t.type;if(!n)throw new Error("No event type specified");var o,a=t.handler,i=typeof a;r=r||e;var f="root"===t.scope?r:t.scope?t.scope:e;if("function"===i?o=a:"string"===i&&(o=f[a]),"function"!=typeof o)throw new Error('Cannot find handler: "'+a+'" on element: ['+l(f)+"].");var u,c=t.capture,s=t.delegate,h=-1!==ie.indexOf(n);u=h?p(n,{el:e,callback:o,capture:c,delegate:s,key:t.key},f):v(n,{el:e,callback:o,capture:c,delegate:s,key:t.key},f),e&&(e.evts=e.evts||new K),e.evts.push(u),e.__he=!0}function x(e,t,r){if(Array.isArray(t))for(var n=0;n<t.length;n++)N(e,t[n],r);else N(e,t,r)}function C(e,t){for(var r=Object.keys(t),n=0;n<r.length;n++){var o=r[n],a=t[o],l=V(o);e.setAttribute(l,a)}}function P(e,t){for(var r=Object.keys(t),n=e.style,o=0;o<r.length;o++){var a=r[o],l=t[a];-1!==X.indexOf(a)?n[a]=isNaN(l)?l:l+"px":n[a]=l}}function S(e,t,r,n){for(var o=0,a=t.length;a>o;o++){var l=t[o];Y["set"+l.key](e,l.val,r,n)}}function L(e,t,r){for(var o=0,a=t.length;a>o;o++){var l=t[o],i=n({},{type:l.key},l.val);N(e,i,r)}}function M(e){var t;return t="function"==typeof e?e():e,Boolean(t)}var T=this||{},q=T.document,B=T.Node,D=[],R={},H=R.__proto__.toString,I=(R.__proto__.hasOwnProperty,function(e,t){if(!Array.isArray(e))return!1;for(var r=0,n=e.length,o=0;n>o;o++)r+=typeof e[o]===t?1:0;return r===n}),W=function(e){return e instanceof B},z=function(e){var t=typeof e;return e&&"object"===t||"function"===t},F=function(e){var t=typeof e;return"string"===t||"number"===t},V=function(e){return e.replace(/([A-Z])/g,"-$1").toLowerCase()},Z=Object.prototype.hasOwnProperty,$=function(){var e=T.HTMLElement,t=e?e.prototype:{},r=t.matches||t.matchesSelector||t.msMatchesSelector||t.webkitMatchesSelector||t.mozMatchesSelector||t.oMatchesSelector;return r}(),G=Object.defineProperties,J=Object.defineProperty,K=function(){var e=function(){Array.call(this)};return e.prototype=Object.create(Array.prototype),G(e.prototype,{remove:{value:function(e){if("function"!=typeof e)return!1;for(var t=[],r=0,n=0;n<this.length;n++)e.call(null,this[n])&&t.push(this[n]);for(var o=0;o<t.length;o++){var a=t[o];a.destroy(),this.splice(this.indexOf(a),1),r++}return r==t.length}},removeEvent:{value:function(e,t,r){var n=this,o=[];return this.forEach(function(n){"*"!==e&&n.type!==e||"*"!==t&&n.el!==t||r&&n.capture!==r||o.push(n)}),o.forEach(function(e){e.destroy(),n.splice(n.indexOf(e),1)}),o.length}},removeAll:{value:function(){for(var e=0;e<this.length;e++)this[e].destroy();this.length=0}}}),e}(),Q=function(){var e=function(){};return e.prototype=Object.create(Object.prototype),G(e.prototype,{remove:{value:function(e){if("function"!=typeof e)return!1;for(var t=Object.keys(this),r=0,n=0;n<t.length;n++){var o=t[n];e.call(null,this[o],o)&&(r+=delete this[o]?1:0)}return r==t.length}},removeRef:{value:function(e){return Z.call(this,e)?delete this[e]:!1}},removeAll:{value:function(){for(var e=Object.keys(this),t=0;t<e.length;t++)delete this[e[t]];return t===e.length}}}),e}(),U=function(){function e(e){e.evts.removeAll(),delete e.evts}function t(t){Z.call(t,"evts")&&e(t);var n=c(t,"__he",!0);r(n,e)}function a(e,t){var r=Z.call(e,"refScope")&&"parent"===e.refScope?"p":"r";"p"===r?e.parentNode.refs.removeRef(e.ref):t.refs.removeRef(e.ref)}function l(e,t){Z.call(e,"refs")&&(e.refs.removeAll(),delete e.refs),Z.call(e,"ref")&&a(e,t);var n=c(e,"__hr",!0);r(n,function(e){a(e,t)})}function i(e,n){r(e,function(e,r){e.nodeType===B.ELEMENT_NODE&&(l(e,n),t(e)),e.parentNode.removeChild(e)})}function f(e,t,r,n,o){var a=t.observeProp;this.__data[a]=o,t["for"]=o;var l,f=u(e,"__key",n),c=!1;if(f.length){if(l=f[0].previousSibling,null===l){var s=e.childNodes;s.length>f.length&&(l=e.insertBefore(q.createElement("a"),s[0]),c=!0)}i(f,this.__owner)}else l=e.lastChild;var v=d(e,t,this.__owner);W(v)&&k(v,r),A(e,v,this.__owner,r,{startEl:l}),c&&e.removeChild(l)}var s=function(e){if("undefined"==typeof e)throw new Error("No root provided");G(this,{__owner:{value:e},__data:{value:{}}})};s.prototype=Object.create(Object.prototype);var v=Math.floor(1e5*Math.random());return G(s.prototype,{add:{value:function(e,t,r){var a=t.observeProp;if(a&&"__owner"!==a){var l=v++ +"",i=n({__key:l},r),u=o({},t,"tplFn,scope,for,root,observeProp,alwaysIterate");J(this,a,{get:function(e){return this.__data[e]}.bind(this,a),set:f.bind(this,e,u,i,l)})}}},push:{value:function(e,t){e=""+e;var r=this[e];if(!r||!Array.isArray(r))throw new Error("Value for property ["+e+"] is not an array.");if(Array.isArray(t))for(var n=0;n<t.length;n++)r.push(t[n]);else r.push(t);return this[e]=r,r.length}}}),s}(),X=["width","height","maxWidth","minWidth","maxHeight","minHeight"];!["","Top","Right","Bottom","Left"].forEach(function(e){X.push("padding"+e),X.push("margin"+e)});var Y={setevents:x,setattrs:C,setstyle:P,setchildren:A,setitems:A},ee=X,te=["color","backgroundColor","background","display","position","border","transform","opacity","fontSize"],re=["defaults"],ne=["style","children","items","attrs","events"],oe=["click","mousedown","mouseup","mouseover","mouseout","mouseenter","mouseleave","mousemove"],ae=["dragstart","dragend","drag","dragover","dragenter","dragleave","drop"],le=["blur","focus"],ie=["keydown","keypress","keyup"],fe=["change","input","submit"],ue=["touchstart","touchmove","touchend"],ce=["wheel","scroll"],se=oe.concat(ae,le,ie,fe,ue,ce),ve=["created","appended"],pe=["className","cls"],he=["xtraCls","xCls"],de=["text","textContent"],ye=["parent"],ge=ee.concat(te,re,ne,se,ve,pe,he,de,ye),me=ee.length,be=me+te.length,_e=be+re.length,ke=_e+ne.length,Oe=ke+se.length,we=Oe+ve.length,Ee=we+pe.length,je=Ee+he.length,Ae=je+de.length,Ne=function(e,t,r,o){if(t=t||R,t.hasOwnProperty("if")&&!M(t["if"]))return null;var a=q.createElement(e);r=r||a;var l,i,f,u,c,s,v,p=Object.keys(t),h=a.style;t.hasOwnProperty("hide")&&M(t.hide)&&(v=!0);for(var d=0,y=p.length;y>d;d++){var g=p[d],m=t[g],b=ge.indexOf(g);-1==b?a[g]=m:me>b?h[g]=isNaN(m)?m:m+"px":be>b?h[g]=m:_e>b?n(s=s||{},m):ke>b?(l=l||[]).push({key:g,val:m}):Oe>b?(i=i||[]).push({key:g,val:m}):we>b?(f=f||{})[g]=m:Ee>b?u=(u||"")+" "+m:je>b?u=(u||"")+" "+m:Ae>b?a.appendChild(q.createTextNode(m)):c=m}return l&&S(a,l,r,s),u&&(a.className+=(" "+u).trim()),i&&L(a,i,r),f&&"function"==typeof f.created&&f.created.call(a),a===r?c&&W(c)&&(c.appendChild(a),f&&"function"==typeof f.appended&&f.appended.call(a,c)):a.root=r,v&&(h.display="none"),a},xe={__proto__:null};return G(xe,{isPlainObject:{value:function(t){return e(t)}},createElement:{value:function(e,t){var r=typeof e;if("number"===r)throw Error("Invalid element tag name");return"string"===r?Ne(e,t):Ne("div",e)}},handleEvent:{value:function(t,r,o){var a=t;if("root"===o?a=t.root||t:"undefined"!=typeof o&&(a=o),e(r))for(var l=Object.keys(r),i=[],f=0;f<l.length;f++){var u=l[f],c=r[u];i.push({key:u,val:c}),Y.setevents(t,n({type:u},c),a)}else Y.setevents(t,r,a)}},setWindow:{value:function(e){T=e,q=T.document,B=T.Node}},queryAll:{value:c},queryAllDirect:{value:u},query:{value:i},queryDirect:{value:f}}),xe});
>>>>>>> b4fa2e49bee556848df2b70fcba328b6bb16de00
